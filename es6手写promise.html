<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>

    <script>
        var promise = new Promise(function (resolve, reject) {
            setTimeout(() => {
                alert(1);
                resolve("1")
            }, 1000)
        })

        promise.then(res => 
            alert2()
        ).then(res => 
            alert3()
        )

        
        //封装函数
        alert2=()=>{
            var promise = new Promise((resolve, reject) => {
                setTimeout(() => {
                    alert(2);
                    resolve("2")
                }, 2000)
            })
            return promise
        }

        alert3=()=>{
            var promise = new Promise((resolve, reject) => {
                setTimeout(() => {
                    alert(3);
                    resolve("3")
                }, 3000);
            })
            return promise
        }

        
        //原始写法
        // promise.then((data)=>{
        //     return new Promise((resolve,reject)=>{
        //         setTimeout(() => {
        //             alert(2);
        //             resolve("2")
        //         }, 2000);
        //     })
        // }).then((data)=>{
        //     return new Promise((resolve,reject)=>{
        //         setTimeout(() => {
        //             alert(3);
        //             resolve("3")
        //         }, 3000);
        //     })
        // })

    </script>
</body>

</html>
